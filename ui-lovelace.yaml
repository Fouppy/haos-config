background: var(--background-image)
decluttering_templates:
  automation_template:
    card:
      card:
        show_header_toggle: false
        title: "[[name]] automations"
        type: entities
      filter:
        include:
          - entity_id: automation.[[slug]]*
      sort: entity_id
      type: custom:auto-entities
title: Liberté
views:
  - badges:
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: person.fouppy
        show_entity_picture: true
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: person.moom
        show_entity_picture: true
    cards:
      - entities:
          - entities:
              - entity: light.living_room_main_light
              - entity: light.living_room_tv_light
              - entity: light.living_room_red_lamp
              - entity: light.living_room_string_lights
              - entity: light.living_room_blue_lava_lamp
              - entity: light.living_room_red_lava_lamp
              - entity: script.night_lights_living_room
                icon_height: 20px
                name: Night lights
                show_icon: false
                show_name: true
                tap_action:
                  action: call-service
                  service: script.night_lights_living_room
              - entity: script.cozy_lights_living_room
                icon_height: 20px
                name: Cozy lights
                show_icon: false
                show_name: true
                tap_action:
                  action: call-service
                  service: script.cozy_lights_living_room
              - entity: script.white_lights_living_room
                icon_height: 20px
                name: White lights
                show_icon: false
                show_name: true
                tap_action:
                  action: call-service
                  service: script.white_lights_living_room
            head:
              entity: light.living_room_lights
              hide_when_off: false
              name: Living Room
            type: custom:fold-entity-row
          - entities:
              - entity: light.bedroom_main_lamp
              - entity: light.bedroom_red_lamp
              - entity: light.bedroom_string_lights
                type: custom:slider-entity-row
            head:
              entity: light.bedroom_lights
              hide_when_off: false
              name: Bedroom
              type: custom:slider-entity-row
            name: Bed
            type: custom:fold-entity-row
          - entities:
              - entity: light.kitchen_ceiling
              - entity: light.kitchen_countertop
                type: custom:slider-entity-row
              - entity: light.kitchen_sink
                type: custom:slider-entity-row
            head:
              entity: light.kitchen_lights
              hide_when_off: false
              name: Kitchen
              type: custom:slider-entity-row
            type: custom:fold-entity-row
          - entities:
              - entity: light.office_lamp
                type: custom:slider-entity-row
            head:
              entity: light.office_lights
              color_picker: true
              hide_when_off: false
              name: Office
              type: custom:slider-entity-row
            type: custom:fold-entity-row
          - entities:
              - entity: light.hall_ceiling
                type: custom:slider-entity-row
            head:
              entity: light.hall_lights
              color_picker: true
              hide_when_off: false
              name: Hall
              type: custom:slider-entity-row
            type: custom:fold-entity-row
        show_header_toggle: false
        title: Lights
        type: entities
      - entity: weather.liberte
        name: Weather
        type: custom:simple-weather-card
      - cards:
          - artwork: cover
            entity: media_player.tv_samsung
            volume_stateless: true
            source: full
            info: long
            scale: 1
            hide:
              controls: false
              mute: false
              play_stop: false
              volume: false
              shuffle: false
              icon_state: false
              progress: false
              source: false
              sound_mode: false
              runtime: false
            icon: mdi:television
            type: custom:mini-media-player
          - artwork: cover
            entity: media_player.spotify_fouppy
            hide:
              power: true
              source: true
              volume: true
            icon: mdi:spotify
            type: custom:spotify-card-v2
          - cards:
              - icon: mdi:sofa-outline
                name: Play music in living room
                styles:
                  card:
                    - font-size: 12px
                    - font-weight: bold
                    - height: 70px
                tap_action:
                  action: call-service
                  service: script.start_spotify_playlist_of_nearest_person
                  service_data:
                    entity_id: media_player.kef_ls50
                    source: LS50 Wireless
                type: custom:button-card
            type: horizontal-stack
        style: |
          ha-card {
            --mini-media-player-base-color: red;
            --mini-media-player-icon-color: red;
            --mini-media-player-background-opacity: 0.1;
            --mini-media-player-overlay-color: red;
          }
        type: vertical-stack
      - entities:
          - entity: input_boolean.alarm_clock
          - entity: input_datetime.alarm_clock
          - entity: input_select.sleep_mode
          - entities:
              - input_select.theme
              - input_boolean.theme_alternative
            head:
              entity: input_boolean.dark_mode
              name: Dark mode
            type: custom:fold-entity-row
          - entity: sensor.in2023_next_alarm
        show_header_toggle: false
        type: entities
      - cards:
          - entities:
              - entity: vacuum.hoover
                name: Vacuum cleaner
                primary:
                  entity: binary_sensor.vacuum_day
                  name: Vacuum day
                secondary:
                  attribute: battery_level
                  name: Battery
                  unit: "%"
                type: custom:multiple-entity-row
              - entity: switch.vacuum_mode
              - entity: input_boolean.cleaned_today
              - entity: binary_sensor.vacuum_day
            show_header_toggle: false
            type: entities
        type: vertical-stack
      - entities:
          - entity: input_boolean.vacation_mode
          - entity: input_boolean.automatic_temperature
        show_header_toggle: false
        type: entities
      - entities:
          - entities:
              - icon: mdi:currency-eur
                name: >
                  {% set kwh = states("sensor.dishwasher_energy_daily") | float
                  %} {% set cost_today = (states("sensor.energy_price") | float)
                  | round(4) * kwh %}  Today used {{ kwh }} kWh and cost {{
                  cost_today | round(4) }} €
                type: custom:template-entity-row
            head:
              entity: binary_sensor.dishwasher
              name: Dishwasher
              secondary: >
                {% set on_for = as_timestamp(now()) -
                as_timestamp(states("input_datetime.dishwasher_on")) %} {% set
                off_for = as_timestamp(now()) -
                as_timestamp(states("input_datetime.dishwasher_off")) %} {% if
                states("binary_sensor.dishwasher") == "on" %}
                  Has been on for {{ (on_for / 60)|round(0) }} minutes.
                {% else %}
                  Has been off for {{ (off_for / 3600)|round(1) }} hours.
                {% endif %}
              state: |
                {% if is_state("binary_sensor.dishwasher", "on") %}
                  {{ states("sensor.dishwasher_power") }} Watt
                {% else %}
                  Off
                {% endif %}
              type: custom:template-entity-row
            type: custom:fold-entity-row
          - entities:
              - icon: mdi:currency-eur
                name: >
                  {% set kwh = states("sensor.washing_machine_energy_daily") |
                  float %} {% set cost_today = (states("sensor.energy_price") |
                  float) | round(4) * kwh %} Today used {{ kwh }} kWh and cost
                  {{ cost_today | round(4) }} €
                type: custom:template-entity-row
            head:
              entity: binary_sensor.washing_machine
              name: Washing machine
              secondary: >
                {% set on_for = as_timestamp(now()) -
                as_timestamp(states("input_datetime.washing_machine_on")) %} {%
                set off_for = as_timestamp(now()) -
                as_timestamp(states("input_datetime.washing_machine_off")) %} {%
                if states("binary_sensor.washing_machine") == "on" %}
                  Has been on for {{ (on_for / 60)|round(0) }} minutes.
                {% else %}
                  Has been off for {{ (off_for / 3600)|round(1) }} hours.
                {% endif %}
              state: |
                {% if is_state("binary_sensor.washing_machine", "on") %}
                  {{ states("sensor.washing_machine_power") }} Watt
                {% else %}
                  Off
                {% endif %}
              type: custom:template-entity-row
            type: custom:fold-entity-row
          - entities:
              - icon: mdi:currency-eur
                name: >
                  Today: {{ states("sensor.daily_energy")|round(4) }} kWh → {{
                  states("sensor.daily_energy_cost")|float|round(4) }} €
                type: custom:template-entity-row
              - type: divider
              - icon: mdi:currency-eur
                name: >
                  {{ as_timestamp(now()) | timestamp_custom("%B") }}: {{
                  states("sensor.monthly_energy")|round(4) }} kWh → {{
                  states("sensor.monthly_energy_cost")|float|round(4) }} €
                type: custom:template-entity-row
              - type: divider
              - icon: mdi:currency-eur
                name: >
                  Last month: {{
                  states("sensor.monthly_energy_last_period")|round(4) }} kWh →
                  {{
                  states("sensor.monthly_energy_cost_last_period")|float|round(4)
                  }} €
                type: custom:template-entity-row
            head:
              entity: sensor.daily_energy
              name: Daily energy usage
              secondary: |
                {{ states("sensor.daily_energy")|round(4) }} kWh
              state: |
                {{ (states("sensor.daily_energy_cost")|float)|round(4) }} €
              type: custom:template-entity-row
            type: custom:fold-entity-row
        show_header_toggle: false
        title: Utilities
        type: entities
      - cards:
          - cards:
              - cards:
                  - color_thresholds_transition: smooth
                    entities:
                      - entity: sensor.dyson_temperature
                        name: Living room
                    font_size: 100
                    group: false
                    hour24: true
                    line_width: 6
                    points_per_hour: 1
                    show:
                      extrema: false
                      fill: fade
                      labels: false
                      name: true
                      state: true
                    type: custom:mini-graph-card
                  - color_thresholds_transition: smooth
                    entities:
                      - entity: sensor.bathroom_thermostat_temperature
                        name: Bathroom
                    font_size: 100
                    group: false
                    hour24: true
                    line_width: 6
                    points_per_hour: 1
                    show:
                      extrema: false
                      fill: fade
                      labels: false
                      name: true
                      state: true
                    type: custom:mini-graph-card
                type: horizontal-stack
            type: vertical-stack
          - cards:
              - cards:
                  - color_thresholds_transition: smooth
                    entities:
                      - entity: sensor.dyson_humidity
                        name: Living room
                    font_size: 100
                    group: false
                    hour24: true
                    line_width: 6
                    points_per_hour: 1
                    show:
                      extrema: false
                      fill: fade
                      labels: false
                      name: true
                      state: true
                    type: custom:mini-graph-card
                  - color_thresholds_transition: smooth
                    entities:
                      - entity: sensor.bathroom_thermostat_humidity
                        name: Bathroom
                    font_size: 100
                    group: false
                    hour24: true
                    line_width: 6
                    points_per_hour: 1
                    show:
                      extrema: false
                      fill: fade
                      labels: false
                      name: true
                      state: true
                    type: custom:mini-graph-card
                type: horizontal-stack
            type: vertical-stack
        type: custom:swipe-card
      - cards:
          - cards:
              - color_thresholds_transition: smooth
                entities:
                  - entity: sensor.all_power
                    name: Power consumption
                font_size: 100
                group: false
                hour24: true
                line_width: 6
                points_per_hour: 1
                show:
                  extrema: false
                  fill: fade
                  labels: false
                  name: true
                type: custom:mini-graph-card
            name: Power consumption
            type: horizontal-stack
          - cards:
              - color_thresholds_transition: smooth
                entities:
                  - entity: sensor.daily_energy_cost
                    name: Daily energy cost
                font_size: 100
                group: false
                hour24: true
                line_width: 6
                points_per_hour: 1
                show:
                  extrema: false
                  fill: fade
                  labels: false
                  name: true
                type: custom:mini-graph-card
            name: Daily energy cost
            type: horizontal-stack
        parameters:
          autoplay:
            delay: 5000
          speed: 2000
        type: custom:swipe-card
      - cards:
          - cards:
              - color: auto
                icon: mdi:weather-sunset-up
                name: Wake up
                styles:
                  card:
                    - font-size: 12px
                    - font-weight: bold
                    - height: 70px
                tap_action:
                  action: call-service
                  haptic: success
                  service: input_select.select_option
                  service_data:
                    entity_id: input_select.sleep_mode
                    option: "off"
                type: custom:button-card
              - color: auto
                entity: input_select.sleep_mode
                icon: mdi:weather-night
                name: >-
                  [[[ if (entity.state != "off") return "Sleep mode on"; else
                  return  "Go to sleep" ]]]
                styles:
                  card:
                    - font-size: 12px
                    - font-weight: bold
                    - height: 70px
                tap_action:
                  action: call-service
                  haptic: success
                  service: script.going_to_sleep
                type: custom:button-card
            type: horizontal-stack
          - cards:
              - color: auto
                icon: mdi:home-map-marker
                name: Arrive Home
                styles:
                  card:
                    - font-size: 12px
                    - font-weight: bold
                    - height: 70px
                tap_action:
                  action: call-service
                  haptic: success
                  service: script.arriving
                type: custom:button-card
              - color: auto
                icon: mdi:home-export-outline
                name: Leave Home
                styles:
                  card:
                    - font-size: 12px
                    - font-weight: bold
                    - height: 70px
                tap_action:
                  action: call-service
                  haptic: success
                  service: script.leaving
                type: custom:button-card
            type: horizontal-stack
        type: vertical-stack
      - control: false
        entity: climate.thermostat
        icon: false
        name: false
        step_layout: row
        step_size: 0.5
        style: |
          ha-card {
            --st-font-size-xl: 30px;
          }
        type: custom:simple-thermostat
        layout:
          mode:
            names: true
            icons: true
            headings: true
        header:
          toggle:
            entity: fan.dyson
      - entities:
          - entities:
              - card:
                  show_header_toggle: false
                  title: Fouppy
                  type: entities
                filter:
                  include:
                    - group: group.oneplus_8_fouppy
                type: custom:auto-entities
            head:
              entity: person.fouppy
              name: |
                Fouppy
              state: |
                {{ states('person.fouppy').replace('_', ' ').capitalize() }}
              type: custom:template-entity-row
            type: custom:fold-entity-row
          - entities:
              - align: center
                entity: sensor.time_at_work_prognosis
                entity_row: true
                height: 30px
                max: 50
                min: 0
                severity:
                  - color: "#ff3c31"
                    from: 0
                    to: 30
                  - color: "#ffcc01"
                    from: 30
                    to: 38
                  - color: "#34c758"
                    from: 38
                    to: 42
                  - color: "#ff3c31"
                    from: 42
                    to: 50
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                target: 40
                type: custom:bar-card
              - type: divider
              - align: center
                entity: sensor.time_at_work_on_monday
                entity_row: true
                height: 30px
                max: 12
                min: 0
                severity:
                  - color: "#ff3c31"
                    from: 0
                    to: 6
                  - color: "#ffcc01"
                    from: 6
                    to: 8
                  - color: "#34c758"
                    from: 8
                    to: 9
                  - color: "#ff3c31"
                    from: 9
                    to: 10
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                target: 8
                type: custom:bar-card
              - align: center
                entity: sensor.time_at_work_on_tuesday
                entity_row: true
                height: 30px
                max: 12
                min: 0
                severity:
                  - color: "#ff3c31"
                    from: 0
                    to: 6
                  - color: "#ffcc01"
                    from: 6
                    to: 8
                  - color: "#34c758"
                    from: 8
                    to: 9
                  - color: "#ff3c31"
                    from: 9
                    to: 10
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                target: 8
                type: custom:bar-card
              - align: center
                entity: sensor.time_at_work_on_wednessday
                entity_row: true
                height: 30px
                max: 12
                min: 0
                severity:
                  - color: "#ff3c31"
                    from: 0
                    to: 6
                  - color: "#ffcc01"
                    from: 6
                    to: 8
                  - color: "#34c758"
                    from: 8
                    to: 9
                  - color: "#ff3c31"
                    from: 9
                    to: 10
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                target: 8
                type: custom:bar-card
              - align: center
                entity: sensor.time_at_work_on_thursday
                entity_row: true
                height: 30px
                max: 12
                min: 0
                severity:
                  - color: "#ff3c31"
                    from: 0
                    to: 6
                  - color: "#ffcc01"
                    from: 6
                    to: 8
                  - color: "#34c758"
                    from: 8
                    to: 9
                  - color: "#ff3c31"
                    from: 9
                    to: 10
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                target: 8
                type: custom:bar-card
              - align: center
                entity: sensor.time_at_work_on_friday
                entity_row: true
                height: 30px
                max: 12
                min: 0
                severity:
                  - color: "#ff3c31"
                    from: 0
                    to: 6
                  - color: "#ffcc01"
                    from: 6
                    to: 8
                  - color: "#34c758"
                    from: 8
                    to: 9
                  - color: "#ff3c31"
                    from: 9
                    to: 10
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                target: 8
                type: custom:bar-card
              - card:
                  show_header_toggle: false
                  title: MooM
                  type: entities
                filter:
                  include:
                    - group: group.oneplus_nord_moom
                type: custom:auto-entities
            head:
              entity: person.moom
              name: |
                MooM
              state: |
                {{ states('person.moom').replace('_', ' ').capitalize() }}
              type: custom:template-entity-row
            type: custom:fold-entity-row
        show_header_toggle: false
        type: entities
    icon: mdi:home
    path: default_view
    title: Home
  - cards:
      - cards:
          - entities:
              - entity: sensor.current_version
                icon: mdi:home-assistant
                name: Hassio Installed Version
              - entity: sensor.home_assistant_versions
                icon: mdi:home-assistant
                name: Hassio Current Version
              - entity: update.get_hacs_update
                icon: mdi:update
                name: Community Store
              - type: divider
              - entity: sensor.system_monitor_last_boot
                icon: mdi:calendar
              - entity: sensor.uptime
                icon: mdi:home-assistant
              - entity: sensor.mariadb_size
                icon: mdi:home-assistant
              - animation: "off"
                entity: sensor.system_monitor_processor_use
                entity_row: true
                height: 30px
                indicator: "off"
                severity:
                  - color: green
                    from: 0
                    to: 60
                  - color: orange
                    from: 60
                    to: 85
                  - color: red
                    from: 85
                    to: 100
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:bar-card
              - animation: "off"
                entity: sensor.cpu_temperature_mean
                entity_row: true
                height: 30px
                indicator: "off"
                severity:
                  - color: green
                    from: 0
                    to: 60
                  - color: orange
                    from: 60
                    to: 70
                  - color: red
                    from: 70
                    to: 100
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:bar-card
              - animation: "off"
                entity: sensor.system_monitor_memory_use
                entity_row: true
                height: 30px
                indicator: "off"
                severity:
                  - color: green
                    from: 0
                    to: 60
                  - color: orange
                    from: 60
                    to: 85
                  - color: red
                    from: 85
                    to: 100
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:bar-card
              - animation: "off"
                entity: sensor.system_monitor_disk_usage
                entity_row: true
                height: 30px
                indicator: "off"
                severity:
                  - color: green
                    from: 0
                    to: 60
                  - color: orange
                    from: 60
                    to: 85
                  - color: red
                    from: 85
                    to: 100
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:bar-card
            show_header_toggle: false
            title: System
            type: entities
        type: vertical-stack
      - cards:
          - columns: 4
            entities:
              - entity: sensor.count_automations
                name: Automations
              - entity: sensor.count_scripts
                name: Scripts
              - entity: sensor.count_zones
                name: Zones
              - entity: sensor.count_device_trackers
                name: Device Trackers
              - entity: sensor.count_switches
                name: Switches
              - entity: sensor.count_sensors
                name: Sensors
              - entity: sensor.count_binary_sensors
                name: Binary Sensors
              - entity: sensor.count_input_booleans
                name: Input Booleans
              - entity: sensor.count_input_numbers
                name: Input Numbers
              - entity: sensor.count_input_texts
                name: Input Texts
              - entity: sensor.count_input_selects
                name: Input Select
              - entity: sensor.count_input_datetimes
                name: Input Date Times
            title: Component Count
            type: glance
        type: vertical-stack
      - cards:
          - cards:
              - color_thresholds_transition: smooth
                entities:
                  - entity: sensor.speedtest_ping
                    index: 0
                    name: Ping
                font_size: 70
                group: false
                hour24: true
                line_width: 6
                lower_bound: 0
                points_per_hour: 1
                show:
                  extrema: true
                  fill: fade
                  icon: true
                  labels: false
                  name: true
                  state: true
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:mini-graph-card
              - color_thresholds_transition: smooth
                entities:
                  - entity: sensor.speedtest_download
                    index: 0
                    name: Download
                font_size: 70
                group: false
                hour24: true
                line_width: 6
                lower_bound: 0
                points_per_hour: 1
                show:
                  extrema: true
                  fill: fade
                  icon: true
                  labels: false
                  name: true
                  state: true
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:mini-graph-card
              - color_thresholds_transition: smooth
                entities:
                  - entity: sensor.speedtest_upload
                    index: 0
                    name: Upload
                font_size: 70
                group: false
                hour24: true
                line_width: 6
                lower_bound: 0
                points_per_hour: 1
                show:
                  extrema: true
                  fill: fade
                  icon: true
                  labels: false
                  name: true
                  state: true
                style: |
                  ha-card {
                    box-shadow: none;
                    --ha-card-background: 'rgba(0, 0, 0, 0)';
                  }
                type: custom:mini-graph-card
            horizontal: true
            name: Speedtest
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            type: custom:vertical-stack-in-card
        style: |
          ha-card {
            box-shadow: none;
            --ha-card-background: var(--ha-card-background);
          }
        title: Network
        type: custom:vertical-stack-in-card
      - entities:
          - entity: zone.home
            icon: mdi:restart
            name: Lovelace
            tap_action:
              action: call-service
              service: frontend.reload_themes
          - entity: zone.home
            icon: mdi:restart
            name: Home Assistant
            tap_action:
              action: call-service
              service: homeassistant.restart
          - entity: zone.home
            icon: mdi:restart
            name: Proxmox
            tap_action:
              action: call-service
              service: button.node_proxmox_reboot
        show_name: true
        show_state: false
        type: glance
    icon: mdi:home-assistant
    path: system
    title: System Information
  - badges: []
    cards:
      - columns: 1
        entities:
          - entity: sensor.kitchen_remote_battery
            name: Rodret
        show_icon: true
        show_name: true
        title: Buttons
        type: glance
      - entities:
          - entity: binary_sensor.activity_in_living_room
          - type: divider
          - entity: binary_sensor.motion_detected
          - entity: binary_sensor.motion_detected_in_last_hour
          - entity: binary_sensor.someone_showering
          - entity: binary_sensor.someone_in_the_house_in_last_hour
        show_header_toggle: false
        title: Activity in the house
        type: entities
      - entities:
          - entity: binary_sensor.anything_on
          - entity: binary_sensor.any_light_on
        show_header_toggle: false
        title: Devices are on
        type: entities
      - columns: 3
        entities:
          - entity: sensor.dyson_temperature
            name: Living room
          - entity: sensor.dyson_humidity
            name: ""
          - entity: sensor.dyson_pm_2_5
            name: ""
          - entity: sensor.bathroom_thermostat_temperature
            name: Bathroom
          - entity: sensor.bathroom_thermostat_humidity
            name: ""
          - entity: sensor.bathroom_thermostat_battery
            name: ""
        show_icon: true
        show_name: true
        show_state: true
        theme: Backend-selected
        title: Temperature sensors
        type: glance
      - entities:
          - entity: sensor.bathroom_thermostat_humidity
          - entity: binary_sensor.bathroom_thermostat_humidity_trend
          - entity: sensor.bathroom_thermostat_humidity_derivative
          - entity: sensor.bathroom_thermostat_humidity_stats
          - entity: binary_sensor.someone_showering
        title: Shower occupied
        type: entities
      - entities:
          - entity: sensor.hours_bedroom_lights_have_been_on_last_7_days
            icon: mdi:clock
            name: Bedroom lights
            secondary: >
              Been on {{
              (states('sensor.hours_bedroom_lights_have_been_on_last_7_days')|float
              / (7*24) * 100) | round(2) }}% during last 7 days.
            state: >-
              {{ states("sensor.hours_bedroom_lights_have_been_on_last_7_days")
              }} h
            type: custom:template-entity-row
          - entity: sensor.hours_living_room_lights_have_been_on_last_7_days
            icon: mdi:clock
            name: Living room lights
            secondary: >
              Been on {{
              (states('sensor.hours_living_room_lights_have_been_on_last_7_days')|float
              / (7*24) * 100) | round(2) }}% during last 7 days.
            state: >-
              {{
              states("sensor.hours_living_room_lights_have_been_on_last_7_days")
              }} h
            type: custom:template-entity-row
          - entity: sensor.hours_office_lights_has_been_on_last_7_days
            icon: mdi:clock
            name: Office lights
            secondary: >
              Been on {{
              (states('sensor.hours_office_lights_has_been_on_last_7_days')|float
              / (7*24) * 100) | round(2) }}% during last 7 days.
            state: >-
              {{ states("sensor.hours_office_lights_has_been_on_last_7_days") }}
              h
            type: custom:template-entity-row
          - entity: sensor.hours_kitchen_lights_have_been_on_last_7_days
            icon: mdi:clock
            name: Kitchen lights
            secondary: >
              Been on {{
              (states('sensor.hours_kitchen_lights_have_been_on_last_7_days')|float
              / (7*24) * 100) | round(2) }}% during last 7 days.
            state: >-
              {{ states("sensor.hours_kitchen_lights_have_been_on_last_7_days")
              }} h
            type: custom:template-entity-row
          - entity: sensor.hours_hall_lights_have_been_on_last_7_days
            icon: mdi:clock
            name: Hall lights
            secondary: >
              Been on {{
              (states('sensor.hours_hall_lights_have_been_on_last_7_days')|float
              / (7*24) * 100) | round(2) }}% during last 7 days.
            state: >-
              {{ states("sensor.hours_hall_lights_have_been_on_last_7_days") }}
              h
            type: custom:template-entity-row
          - type: divider
          - entity: sensor.lights_on_total_hours
            icon: mdi:clock
            name: Total cost estimate for last 7 days
            secondary: >
              Total is {{ states('sensor.lights_on_total_hours') | round(2) }}
              hours, {{ states('sensor.lights_on_total_kwh') | round(4) }} kWh,
              {{ (states('sensor.lights_on_total_kwh')|float *
              (states("sensor.energy_price") | float)) | round(4) }} €.
            state: '{{ states("sensor.lights_on_total_hours") }} h'
            type: custom:template-entity-row
        title: Lights on last 7 days
        type: entities
    icon: mdi:motion-sensor
    path: sensors
    title: Sensors
  - badges: []
    cards:
      - entities:
          - entity: input_boolean.start_kef_ls50
          - type: divider
          - entity: input_boolean.start_spotify_on_kef_ls50
          - type: divider
          - entity: input_boolean.wake_up_light
          - entity: input_boolean.demo_wake_up_light
          - type: divider
          - entity: input_boolean.wake_up_with_spotify
          - entity: input_boolean.demo_wake_up_with_spotify
        show_header_toggle: false
        title: Test apps
        type: entities
      - entities:
          - entity: input_select.last_script_living_room
        show_header_toggle: false
        title: Inputs (automatically switched)
        type: entities
      - entities:
          - entity: sensor.tv_volume
        show_header_toggle: false
        title: Volume sync
        type: entities
      - entities:
          - entity: input_datetime.dishwasher_on
          - entity: input_datetime.dishwasher_off
          - entity: input_datetime.washing_machine_on
          - entity: input_datetime.washing_machine_off
        show_header_toggle: false
        title: Datetimes
        type: entities
      - entities:
          - align: center
            color: "#0279ff"
            entity: sensor.time_at_work_this_week
            entity_row: true
            height: 30px
            max: 50
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 30
              - color: "#ffcc01"
                from: 30
                to: 38
              - color: "#34c758"
                from: 38
                to: 42
              - color: "#ff3c31"
                from: 42
                to: 50
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 40
            type: custom:bar-card
          - align: center
            entity: sensor.time_at_work_prognosis
            entity_row: true
            height: 30px
            max: 50
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 30
              - color: "#ffcc01"
                from: 30
                to: 38
              - color: "#34c758"
                from: 38
                to: 42
              - color: "#ff3c31"
                from: 42
                to: 50
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 40
            type: custom:bar-card
          - type: divider
          - align: center
            entity: sensor.time_at_work_on_monday
            entity_row: true
            height: 30px
            max: 12
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 6
              - color: "#ffcc01"
                from: 6
                to: 8
              - color: "#34c758"
                from: 8
                to: 9
              - color: "#ff3c31"
                from: 9
                to: 10
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 8
            type: custom:bar-card
          - align: center
            entity: sensor.time_at_work_on_tuesday
            entity_row: true
            height: 30px
            max: 12
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 6
              - color: "#ffcc01"
                from: 6
                to: 8
              - color: "#34c758"
                from: 8
                to: 9
              - color: "#ff3c31"
                from: 9
                to: 10
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 8
            type: custom:bar-card
          - align: center
            entity: sensor.time_at_work_on_wednessday
            entity_row: true
            height: 30px
            max: 12
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 6
              - color: "#ffcc01"
                from: 6
                to: 8
              - color: "#34c758"
                from: 8
                to: 9
              - color: "#ff3c31"
                from: 9
                to: 10
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 8
            type: custom:bar-card
          - align: center
            entity: sensor.time_at_work_on_thursday
            entity_row: true
            height: 30px
            max: 12
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 6
              - color: "#ffcc01"
                from: 6
                to: 8
              - color: "#34c758"
                from: 8
                to: 9
              - color: "#ff3c31"
                from: 9
                to: 10
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 8
            type: custom:bar-card
          - align: center
            entity: sensor.time_at_work_on_friday
            entity_row: true
            height: 30px
            max: 12
            min: 0
            severity:
              - color: "#ff3c31"
                from: 0
                to: 6
              - color: "#ffcc01"
                from: 6
                to: 8
              - color: "#34c758"
                from: 8
                to: 9
              - color: "#ff3c31"
                from: 9
                to: 10
            style: |
              ha-card {
                box-shadow: none;
                --ha-card-background: 'rgba(0, 0, 0, 0)';
              }
            target: 8
            type: custom:bar-card
        show_header_toggle: false
        title: Work time
        type: entities
      - entities:
          - entity: sensor.times_dishwasher_has_been_on_last_7_days
          - entity: sensor.hours_dishwasher_has_been_on_last_7_days
          - entity: sensor.times_washing_machine_has_been_on_last_7_days
          - entity: sensor.hours_washing_machine_has_been_on_last_7_days
          - entity: sensor.times_tv_has_been_on_last_7_days
          - entity: sensor.hours_tv_has_been_on_last_7_days
        title: Stats
        type: entities
      - entities:
          - entity: input_boolean.test
          - entity: input_select.sleep_mode
        type: entities
      - entities:
          - entity: person.fouppy
          - entity: person.moom
        hours_to_show: 240
        type: map
        theme_mode: dark
      - entities:
          - entity: sensor.dyson_temperature
            name: Living room
            secondary: >
              💦 {{ states('sensor.dyson_humidity') }}%, ☢ {{
              states('sensor.dyson_pm_2_5') }}µg/m³
            state: '{{ states("sensor.dyson_temperature") }} °C'
            type: custom:template-entity-row
          - entity: sensor.bathroom_thermostat_temperature
            name: Bathroom
            secondary: >
              💦 {{ states('sensor.bathroom_thermostat_humidity') }}%, 🔋 {{
              states('sensor.bathroom_thermostat_battery') }}%
            state: '{{ states("sensor.bathroom_thermostat_temperature") }} °C'
            type: custom:template-entity-row
        title: Temperature sensors
        type: entities
      - type: custom:firemote-card
        entity: media_player.android_tv
        device_family: chromecast
        device_type: chromecast-4k
        compatibility_mode: default
        android_tv_remote_entity: remote.chromecast
        scale: "70"
        defaultRemoteStyle_override: CC2
        show_media_controls: false
        visible_name_text: ""
        app_launch_1: smart-tube-next-beta
        app_launch_2: jellyfin
        app_launch_3: twitch
        app_launch_4: prime-video
        app_launch_5: netflix
        app_launch_6: spotify
        button_overrides:
          mute-button:
            action: media_player.volume_mute
            target:
              entity_id: media_player.tv_samsung
            data:
              is_volume_muted: true
          volume-down-button:
            action: media_player.volume_down
            target:
              entity_id: media_player.tv_samsung
          volume-up-button:
            action: media_player.volume_up
            target:
              entity_id: media_player.tv_samsung
    icon: mdi:test-tube
    path: tests
    title: Tests
  - badges: []
    cards:
      - card:
          show_header_toggle: false
          title: Uncategorized automations
          type: entities
        filter:
          exclude:
            - entity_id: automation.alarm_clock_*
            - entity_id: automation.climate_*
            - entity_id: automation.control_switches_*
            - entity_id: automation.frontend_*
            - entity_id: automation.leaving_*
            - entity_id: automation.light_*
            - entity_id: automation.media_player_*
            - entity_id: automation.music_*
            - entity_id: automation.security_*
            - entity_id: automation.sleep_mode_*
            - entity_id: automation.system_*
            - entity_id: automation.test_*
            - entity_id: automation.utilities_*
            - entity_id: automation.vacation_mode_*
            - entity_id: automation.vacuum_*
            - entity_id: automation.work_*
          include:
            - domain: automation
        sort: entity_id
        type: custom:auto-entities
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Alarm clock
          - slug: alarm_clock
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Climate
          - slug: climate
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Control switches
          - slug: control_switches
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Frontend
          - slug: frontend_
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Leaving
          - slug: leaving
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Light
          - slug: light
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Media player
          - slug: media_player_
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Music
          - slug: music
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Security
          - slug: security
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Sleep mode
          - slug: sleep_mode_
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: System
          - slug: system_
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Utilities
          - slug: utilities_
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Vacation mode
          - slug: vacation_mode
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Vacuum
          - slug: vacuum
      - template: automation_template
        type: custom:decluttering-card
        variables:
          - name: Work
          - slug: work
    icon: mdi:robot
    path: automations
    title: Automations
